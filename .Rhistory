install.packages("rvest")
url <- "https://en.wikipedia.org/wiki/Roy_Williams_(coach)#Head_coaching_record"
library(tidyverse)
library(rvest)
rw <- url %>% html() %>% html_nodes(xpath = '//*[@id="mw-content-text"]/table[3]') %>% html_table()
rw <- url %>% read_html() %>%
html_nodes(xpath = '//*[@id="mw-content-text"]/table[3]') %>%
html_table()
rw <- url %>% read_html() %>%
html_nodes(xpath = '//*[@id="mw-content-text"]/table[3]', fill = TRUE) %>%
html_table()
rw <- url %>% read_html() %>%
html_nodes(xpath = '//*[@id="mw-content-text"]/table[3]') %>%
html_table(fill = TRUE)
rw
str(rw)
rw$Overall
rw$" Overall"
rw[[1]]$Overall
rw_records <- rw[[1]]$Overall
head(rw_records)
rw_year <- rw[[1]]$Season
rw_year
df_rw <- data.frame(rw_year, rw_records)
head(df_rw)
nchar(df_rw)
nchar(df_rw[1,1])
nchar(df_rw$rw_year)
nchar(df_rw$rw_year[[1]])
df_year[[1]]
rw_year[[1]]
nchar(rw_year[[1]])
str(df_rw)
df_rw <- tbl(rw_year, rw_records)
df_rw <- tibble(rw_year, rw_records)
str(df_rw)
df_rw <- df_rw %>% filter(nchar(rw_year) < 10)
head(df_rw)
library(attutilr)
headtail(dr_rw)
headtail(df_rw)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
dim(df_rw)
headtail(df_rw)
grepl(df_rw$rw_records[1],"-")
df_rw$rw_records[1]
grepl(df_rw$rw_records[1],"–")
?grepl
grepl("–", df_rw$rw_records[1])
grep("–", df_rw$rw_records[1])
?strsplit
df_rw <- df_rw %>% mutate(win = strsplit(rw_records, "–")[1], loss = strsplit(rw_records, "–")[2])
strsplit(df_rw$rw_records[1])[1]
strsplit(df_rw$rw_records[1], "–")[1]
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
df_rw <- df_rw %>% mutate(win = strsplit(rw_records, "–")[1], loss = strsplit(rw_records, "–")[2])
library(stringr)
?str_split
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
df_rw <- df_rw %>% mutate(win = str_split("–", rw_records)[1], loss = str_split("–", rw_records)[2])
str_split("–", df_rw$rw_records[1])
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
str_split("–", df_rw$rw_records[1])
str_split("–", "10-20")
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
df_rw <- df_rw %>% mutate(win = str_split(rw_records, "–", )[1], loss = str_split( rw_records, "–")[2])
str_split(10-20", "–")
str_split("10–20", "–")
df_rw <- df_rw %>% mutate(win = str_split(rw_records, "–")[1], loss = str_split( rw_records, "–")[2])
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
df_rw <- df_rw %>% mutate(win = str_split(rw_records, "–")[1], loss = str_split( rw_records, "–")[2])
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
headtail(df_rw)
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
df_rw <- df_rw %>% mutate(win = str_split(rw_records, "–")[[1]], loss = str_split( rw_records, "–")[[2]])
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
df_rw <- df_rw %>% mutate(win = str_split(rw_records, "–")[[1]][[1]], loss = str_split( rw_records, "–")[[1]][[2]])
headtail(df_rw)
str_split(df_rw$rw_records, "–")
str(df_rw)
?split
?unite
?separate
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
#df_rw <- df_rw %>% mutate(win = str_split(rw_records, "–")[[1]][[1]], loss = str_split( rw_records, "–")[[1]][[2]])
df_rw <- df_rw %>% separate(rw_records, c("win", "loss"))
headtail(df_Rw)
headtail(df_rw)
sum(df_rw$win)
df_rw <- df_rw %>% separate(rw_records, c("win", "loss"), convert = TRUE)
rw_year <- rw[[1]]$Season
df_rw <- tibble(rw_year, rw_records)
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
df_rw <- df_rw %>% separate(rw_records, c("win", "loss"), convert = TRUE)
sum(df_rw$win)
str(df_rw$win)
str(df_rw)
df_rw <- df_rw %>% mutate(career_yr = row_index())
?row_index
?index_row
df_rw <- df_rw %>% mutate(career_yr = row_number())
headtail(df_rw)
str(df_rw)
df_rw %>% ggplot(aes(x = carrer_yr, y = win)) + geom_point()
df_rw %>% ggplot(aes(x = career_yr, y = win)) + geom_point()
df_rw <- df_rw %>% filter(nchar(rw_records) < 6)
df_rw <- df_rw %>% separate(rw_records, c("win", "loss"), convert = TRUE)
df_rw <- df_rw %>% mutate(win_cum = cumsum(win), career_yr = row_number())
df_rw %>% ggplot(aes(x = career_yr, y = win)) + geom_point()
df_rw %>% ggplot(aes(x = career_yr, y = win_cum)) + geom_point()
