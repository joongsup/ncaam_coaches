{
    "collab_server" : "",
    "contents" : "library(tidyverse)\nlibrary(rvest)\n\nsource(\"utils.R\")\n\n#---------------\n# read data\n#---------------\ncoaches <- read.csv(\"input_data_table.csv\", header = TRUE, as.is = TRUE, quote = \"\")\ncoaches$career_records <- apply(coaches, 1, grab_records)\n# why not working? \n#coaches <- src %>% mutate(career_records = apply(coaches, 1, grab_records))\nsetNames(coaches$career_records, coaches$Coach)\n# latest wins\ncoaches$latest_wins <- coaches$career_records %>% map_int(function(x) x$win_cum[nrow(x)])\n\n#---------------\n# total wins\n#---------------\ncoaches %>% ggplot(aes(x = reorder(Coach, latest_wins), y = latest_wins)) + geom_bar(stat = \"identity\") + coord_flip() + theme_bw()\n\n#---------------\n# win by career year\n#---------------\n#df_career_records <- bind_rows(coaches$career_records, .id = \"Coach\")\n#df_career_records <- rbindlist(coaches$career_records, idcol = \"Coach\")\n\ndf_career_records <- coaches %>% unnest() %>% select(Coach, career_yr, win_cum)\ndf_career_records$type <- ifelse(df_career_records$Coach %in% c(\"Dean Smith\", \"Roy Williams\", \"Coach K\"), TRUE, FALSE)\ndf_career_records %>% ggplot(aes(x = career_yr, y = win_cum)) + geom_point(aes(group = Coach, colour = type)) + geom_line(aes(group = Coach, colour = type)) + theme_bw() + stat_smooth()\n\n",
    "created" : 1486146195326.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "291307219",
    "id" : "B4C7229",
    "lastKnownWriteTime" : 1486264726,
    "last_content_update" : 1486264726884,
    "path" : "~/projects/coaches/main.R",
    "project_path" : "main.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}